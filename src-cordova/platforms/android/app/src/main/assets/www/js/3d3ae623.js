(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3d3ae623"],{"3e63":function(a,o,t){"use strict";var s=t("7b80"),e=t.n(s);e.a},"7b80":function(a,o,t){},"8b24":function(a,o,t){"use strict";t.r(o);var s=function(){var a=this,o=a.$createElement,t=a._self._c||o;return t("q-page",[a.$q.platform.is.ios?t("div",[t("div",{staticClass:"top-nav-bar-ios"},[a._v("O S E")])]):t("div",[t("div",{staticClass:"top-nav-bar"},[a._v("O S E")])]),t("div",{staticClass:"input-field-username"},[t("q-input",{staticClass:"field-input",attrs:{outlined:"",placeholder:"Correo electrónico"},model:{value:a.username,callback:function(o){a.username=o},expression:"username"}}),a.noEmail?t("div",{staticClass:"missing-information"},[a._v("Ingresa tu correo")]):a._e()],1),t("div",{staticClass:"input-field-password"},[t("q-input",{staticClass:"field-input",attrs:{outlined:"",placeholder:"Contraseña",type:"password"},model:{value:a.password,callback:function(o){a.password=o},expression:"password"}}),a.noPassword?t("div",{staticClass:"missing-information"},[a._v("Ingresa tu contraseña")]):a._e()],1),t("div",{staticClass:"input-field-family-key"},[t("q-input",{staticClass:"field-input",attrs:{outlined:"",placeholder:"Clave de familia",rules:[function(a){return a.length<=4||"Favor de usar máximo 4 caracteres"}]},model:{value:a.familyKey,callback:function(o){a.familyKey=o},expression:"familyKey"}}),a.noFamilyKey?t("div",{staticClass:"missing-information"},[t("br"),a._v("Ingresa tu clave de familia")]):a._e(),t("br")],1),a.incorrectLogin?t("div",{staticClass:"incorrect-login"},["Email not valid"==a.error?t("div",[a._v("El correo no es válido")]):a._e(),"Password not valid"==a.error?t("div",[a._v("La contraseña no es válida")]):a._e(),"Family key not found"==a.error?t("div",[a._v("La clave de familia no fue encontrada")]):a._e()]):a._e(),t("div",{staticClass:"found-errors"}),t("div",{staticClass:"login-button-container"},[a.realButtton?t("div",[t("q-btn",{staticClass:"size-for-button",attrs:{loading:a.loading1,id:"loginButton",color:"white","text-color":"black","no-caps":"",label:"Iniciar Sesión"},on:{click:function(o){return a.login()}}})],1):a._e(),a.fakeButtton?t("div",[t("q-btn",{staticClass:"size-for-button",attrs:{disabled:"",color:"white","text-color":"black","no-caps":"",label:"Iniciando sesión ..."}})],1):a._e(),t("div",{staticClass:"forgotten-password-link"},[t("span",{on:{click:function(o){return a.forgotPassword()}}},[a._v("¿Olvidaste tu Contraseña?")])])]),a.showForgotPasswordModal?t("div",{staticClass:"forgot-password-modal"},[t("div",{staticClass:"forget-password-title-sign"},[a._v("Recupera tu Contraseña")]),t("div",{staticClass:"password-information"},[a._v("Ingresa tu correo electrónico para enviar los pasos para generar una nueva contraseña")]),t("q-input",{staticClass:"field-input",attrs:{outlined:"",label:"Correo electrónico"},model:{value:a.emailToRecoverPassword,callback:function(o){a.emailToRecoverPassword=o},expression:"emailToRecoverPassword"}}),t("div",{staticClass:"forget-password-button-container"},[t("q-btn",{attrs:{color:"white","text-color":"red","no-caps":"",label:"Función no disponible por el momento"}})],1),t("div",{staticClass:"close-button-container"},[t("span",{on:{click:function(o){return a.closeForgotPasswordModal()}}},[a._v("Cerrar")])])],1):a._e()])},e=[],i=t("bc3a"),n=t.n(i),r={name:"PageIndex",data:function(){return{loading1:!1,username:"",password:"",familyKey:"",showForgotPasswordModal:!1,emailToRecoverPassword:"",incorrectLogin:!1,noEmail:!1,noPassword:!1,noFamilyKey:!1,realButtton:!0,fakeButtton:!1,error:""}},methods:{forgotPassword:function(){var a=this;a.showForgotPasswordModal=!0},closeForgotPasswordModal:function(){var a=this;a.showForgotPasswordModal=!1},login:function(){this["loading1"]=!0;var a=this;a.incorrectLogin=!1,a.noEmail=!1,a.noPassword=!1,a.noFamilyKey=!1,""!==a.username&&""!==a.password?n.a.post("https://oxford-app-api.herokuapp.com/v1/sessions",{headers:{"Content-Type":"application/json"},email:a.username,password:a.password,family_key:a.familyKey}).then(function(o){a["loading1"]=!1,void 0!==o.data.data.token&&void 0!==o.data.data.user.id&&(window.localStorage.setItem("token",o.data.data.token),window.localStorage.setItem("id",o.data.data.user.id),window.localStorage.setItem("email",o.data.data.user.email),a.$router.push("/home"))}).catch(function(o){a["loading1"]=!1,a.incorrectLogin=!0,a.error=o.response.data.errors}):(a["loading1"]=!1,""===a.username&&(a.noEmail=!0),""===a.password&&(a.noPassword=!0),""===a.familyKey&&(a.noFamilyKey=!0))},register:function(){var a=this;a.$router.push("/register")},registerAdmin:function(){var a=this;a.$router.push("/registerAdmin")}}},l=r,d=(t("3e63"),t("2877")),c=Object(d["a"])(l,s,e,!1,null,null,null);o["default"]=c.exports}}]);